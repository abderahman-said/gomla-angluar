<div class="min-h-screen bg-slate-50">
  <!-- Header with Search Bar -->
  <div class="bg-white shadow-sm border-b border-slate-200 pt-[100px]">
    <div class="container mx-auto px-4 py-6">
      <div class="flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between">
        <div>
          <h1 class="text-2xl font-bold text-slate-900 mb-2">{{ searchSummary() }}</h1>
          <p class="text-slate-600">{{ resultCount() }}</p>
        </div>
        
        <!-- Sort and View Controls -->
        <div class="flex items-center gap-4">
          <div class="flex items-center gap-2">
            <label class="text-sm font-medium text-slate-700">Sort by:</label>
            <select 
              [value]="sortBy()" 
              (change)="onSortChange($event)"
              class="border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"
            >
              @for (option of sortOptions; track option.value) {
                <option [value]="option.value">{{ option.label }}</option>
              }
            </select>
          </div>
          
          <div class="flex items-center border border-slate-300 rounded-lg">
            <button
              (click)="toggleViewMode()"
              [class]="viewMode() === 'grid' ? 'bg-purple-500 text-white' : 'bg-white text-slate-700'"
              class="p-2 rounded-l-lg hover:bg-purple-600 transition-colors"
              title="Grid View"
            >
              <lucide-icon [img]="Grid" [size]="18" />
            </button>
            <button
              (click)="toggleViewMode()"
              [class]="viewMode() === 'list' ? 'bg-purple-500 text-white' : 'bg-white text-slate-700'"
              class="p-2 rounded-r-lg hover:bg-purple-600 transition-colors"
              title="List View"
            >
              <lucide-icon [img]="List" [size]="18" />
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container mx-auto px-4 py-8">
    <div class="flex gap-8">
      <!-- Filters Sidebar -->
      <aside class="hidden lg:block w-80 flex-shrink-0">
        <app-filters-sidebar
          [filters]="filters()"
          (filtersChange)="onFiltersChange($event)"
        ></app-filters-sidebar>
      </aside>

      <!-- Hotels Grid/List -->
      <main class="flex-1">
        <!-- Loading State -->
        @if (loading()) {
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            @for (i of [1, 2, 3, 4, 5, 6]; track i) {
              <app-skeleton-loader></app-skeleton-loader>
            }
          </div>
        }

        <!-- No Results -->
        @if (showNoResults()) {
          <div class="text-center py-16">
            <lucide-icon [img]="MapPin" [size]="64" class="text-slate-300 mx-auto mb-4" />
            <h2 class="text-2xl font-bold text-slate-900 mb-2">No hotels found</h2>
            <p class="text-slate-600 mb-6">Try adjusting your filters or search criteria</p>
            <button
              (click)="onFiltersChange({})"
              class="bg-purple-500 hover:bg-purple-600 text-white font-medium px-6 py-3 rounded-lg transition-colors"
            >
              Clear Filters
            </button>
          </div>
        }

        <!-- Results -->
        @if (showResults()) {
          <div class="space-y-6">
            <!-- Grid View -->
            @if (viewMode() === 'grid') {
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                @for (hotel of hotels(); track hotel.id) {
                  <app-hotel-card 
                    [hotel]="hotel"
                    (cardClick)="onHotelClick($event)"
                  ></app-hotel-card>
                }
              </div>
            }

            <!-- List View -->
            @if (viewMode() === 'list') {
              <div class="space-y-4">
                @for (hotel of hotels(); track hotel.id) {
                  <div class="bg-white rounded-lg shadow-card p-6 hover:shadow-card-hover transition-shadow cursor-pointer"
                       (click)="onHotelClick(hotel)">
                    <div class="flex gap-6">
                      <img 
                        [src]="hotel.images[0]" 
                        [alt]="hotel.name"
                        class="w-32 h-32 object-cover rounded-lg flex-shrink-0"
                      >
                      <div class="flex-1">
                        <div class="flex justify-between items-start mb-2">
                          <div>
                            <h3 class="text-lg font-bold text-slate-900 mb-1">{{ hotel.name }}</h3>
                            <p class="text-sm text-slate-600 flex items-center gap-1">
                              <lucide-icon [img]="MapPin" [size]="14" />
                              {{ hotel.location.city }}, {{ hotel.location.country }}
                            </p>
                          </div>
                          <div class="text-right">
                            <div class="text-2xl font-bold text-purple-600">${{ hotel.priceFrom }}</div>
                            <div class="text-sm text-slate-500">per night</div>
                          </div>
                        </div>
                        
                        <div class="flex items-center gap-4 text-sm">
                          <div class="flex items-center gap-1">
                            @for (i of getStarArray(hotel.starRating); track i) {
                              <lucide-icon [img]="Star" [size]="14" class="text-purple-400 fill-purple-400" />
                            }
                          </div>
                          <span class="text-slate-600">{{ hotel.guestRating }}/10</span>
                          <span class="text-slate-500">({{ hotel.reviewCount }} reviews)</span>
                        </div>
                        
                        <div class="flex flex-wrap gap-2 mt-3">
                          @for (amenity of hotel.amenities.slice(0, 3); track amenity) {
                            <span class="text-xs bg-purple-50 text-purple-700 px-2 py-1 rounded border border-purple-200">
                              {{ amenity }}
                            </span>
                          }
                          @if (hotel.amenities.length > 3) {
                            <span class="text-xs text-slate-500">+{{ hotel.amenities.length - 3 }} more</span>
                          }
                        </div>
                      </div>
                    </div>
                  </div>
                }
              </div>
            }

            <!-- Pagination -->
            @if (totalPages() > 1) {
              <div class="flex justify-center mt-8">
                <nav class="flex items-center gap-2">
                  <button
                    (click)="onPageChange(currentPage() - 1)"
                    [disabled]="currentPage() === 1"
                    class="px-3 py-2 rounded-lg border border-slate-300 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50"
                  >
                    Previous
                  </button>
                  
                  @for (page of getPages(); track page) {
                    @if (page === -1) {
                      <span class="px-3 py-2 text-slate-500">...</span>
                    } @else {
                      <button
                        (click)="onPageChange(page)"
                        [class]="currentPage() === page ? 'bg-purple-500 text-white' : 'bg-white text-slate-700 hover:bg-slate-50'"
                        class="px-3 py-2 rounded-lg border border-slate-300 text-sm font-medium"
                      >
                        {{ page }}
                      </button>
                    }
                  }
                  
                  <button
                    (click)="onPageChange(currentPage() + 1)"
                    [disabled]="currentPage() === totalPages()"
                    class="px-3 py-2 rounded-lg border border-slate-300 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50"
                  >
                    Next
                  </button>
                </nav>
              </div>
            }
          </div>
        }
      </main>
    </div>
  </div>
</div>
